# Roadmap: Metafor Migration to WebGPU (Linked Mode)

**Стратегия:**

1. `web-gpu-engine` подготавливается как библиотека (API-first): экспортирует необходимые примитивы и допускает внешний контроль Canvas.
2. `web-gpu-engine` линкуется в `metafor` через `bun link` (или workspace).
3. Вся логика визуализации (Visualizer, физика, маппинг данных на Торы/Сферы) реализуется внутри `metafor`.

**Визуальный стиль:**

- **Контейнеры (Списки):** Торы (Torus).
- **Значения (Примитивы):** Сферы (Sphere).
- **Рендер:** Main Thread (без Worker на данном этапе).

## Этапы

### 1. Engine API Preparation (`01-engine-api.md`)

Подготовка движка к роли внешней зависимости.

- Гибкая инициализация `Renderer`.
- Методы управления графом сцены (`remove`).
- Экспорт геометрических примитивов и материалов.

### 2. Metafor Integration (`02-metafor-implementation.md`)

Реализация визуализатора на стороне приложения.

- Подключение движка.
- Реализация `Visualizer.ts`.
- Логика: Данные -> Торы/Сферы.
