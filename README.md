# Пользовательский WebGPU-движок

Этот проект представляет собой создание собственного WebGPU-движка для рендеринга 3D-графики. На данный момент он демонстрирует создание и анимированный рендеринг тора.

## Установка и запуск

1.  Установите зависимости:
    ```bash
    bun install
    ```
2.  Запустите проект:
    ```bash
    bun run dev
    ```

После запуска в вашем браузере откроется страница с анимированным тором.

## Структура проекта

Архитектура и файловая структура проекта в значительной степени вдохновлены популярной библиотекой `three.js`, что делает код более знакомым для разработчиков, имеющих с ней опыт.

*   `examples/`: Содержит примеры использования движка.
*   `src/`: Исходный код движка.
    *   `core/`: Основные классы, такие как `Mesh` и `ViewPoint`.
    *   `geometries/`: Геометрические формы (например, тор).
    *   `helpers/`: Вспомогательные объекты для отладки (например, `AxesHelper`).
    *   `materials/`: Материалы, определяющие внешний вид объектов.
    *   `renderers/`: Рендереры, отвечающие за отрисовку сцены (например, `WebGPURenderer`).
    *   `scenes/`: Классы для управления сценой.
    *   `WebGPUEngine.ts`: Главный файл, экспортирующий все компоненты движка.

## Управление в примерах

Интерактивное взаимодействие обеспечивается классом `ViewPoint`, который объединяет камеру и орбитальное управление. Логика адаптирована для разных устройств ввода.

### Мышь
| Действие | Ввод пользователя |
| :--- | :--- |
| **Вращение** | Зажать **левую кнопку** и двигать |
| **Панорамирование**| Зажать **правую кнопку** и двигать |
| **Панорамирование (X/Y)** | Прокрутка **колесиком** |
| **Масштаб** | **`Ctrl` + Прокрутка колесиком** |

### Тачпад (Ноутбук)
| Действие | Ввод пользователя |
| :--- | :--- |
| **Вращение** | Двигать **одним пальцем** (с нажатием) |
| **Панорамирование**| Смахивать **двумя пальцами** |
| **Масштаб** | Жест **"щипок"** (Pinch-to-Zoom) |

### Тачскрин (Смартфон/Планшет)
| Действие | Ввод пользователя |
| :--- | :--- |
| **Вращение** | Двигать **одним пальцем** |
| **Панорамирование и Масштаб**| Двигать **двумя пальцами** (щипок и перетаскивание) |

## Ключевые отличия от `three.js`

Хотя архитектура этого движка вдохновлена `three.js`, он значительно проще по функциональности и имеет свои особенности.

| Функция | Наш движок | Three.js |
| :--- | :--- | :--- |
| **Архитектура Камеры** | Единый класс `ViewPoint` объединяет камеру и управление для простоты API. | Раздельные классы `Camera` и `OrbitControls`, требующие ручной связки. |
| **API Рендеринга** | Исключительно **WebGPU**. | В основном **WebGL 1/2**, с поддержкой WebGPU. |
| **Система координат** | **RH_ZO**: Правосторонняя, Y-вверх, глубина [0, 1] (стандарт WebGPU). | **LH_YO**: Левосторонняя, Y-вверх, глубина [-1, 1] (стандарт OpenGL). |
| **Геометрии** | Только `TorusGeometry`. | Десятки встроенных геометрий (кубы, сферы, плоскости и т.д.). |
| **Материалы** | `BasicMaterial` с поддержкой сплошного цвета и каркасного (`wireframe`) режима. | Множество материалов с поддержкой PBR, текстур и сложных шейдеров. |
| **Вспомогательные объекты**| `AxesHelper` для визуализации координатных осей. | Большой набор хелперов для отладки (камеры, скелеты, нормали и т.д.). |
| **Освещение** | **Отсутствует.** | Комплексная система освещения (направленный, точечный, рассеянный свет и др.). |
| **Текстуры** | **Отсутствуют.** | Полная поддержка загрузки и использования текстур. |
| **Загрузчики** | **Отсутствуют.** | Поддержка загрузки 3D-моделей в форматах, таких как glTF, OBJ, FBX и др. |
| **Экосистема** | Минимальная, проект на начальной стадии. | Огромное сообщество, обширная документация, множество плагинов и примеров. |

